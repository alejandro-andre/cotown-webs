<section class="main-header pure-g">

  <!-- Formulario -->
  <div class="left pure-u-lg-1-4">

    <div class="text-container desktop">
      <h1 class="pure-u-1">{% literal texts, 'home-bienvenido', L %}</h1>
    </div>

    <div class="basic-searcher pure-u-1">

      <label class="label">{% literal texts, 'home-bienvenido-donde', L %}:</label>
      <select id="city" name="city" class="pure-u-1" onchange="localStorage.setItem('city', this.value);" required>
        <option value="" disabled selected>{% literal texts, 'home-bienvenido-donde', L %}</option>
        {% for l in locations %}
        {% if buildings | find('District.Location.id', 'eq', l.id) | length > 0 %}
        <option>{{ l | translate('Name', L)}}</option>
        {% endif %}
        {% endfor %}
      </select>

      <label class="label">{% literal texts, 'home-bienvenido-tipo', L %}:</label>
      <select id="type" name="type" class="pure-u-1" onchange="localStorage.setItem('type', this.value);" required>
        <option value="" disabled selected>{% literal texts, 'home-bienvenido-tipo', L %}</option>
        <option value="Piso compartido">{% literal texts, 'home-pisazos-piso', L %} {% literal texts, 'home-pisazos-compartido', L %}</option>
        <option value="Apartamento privado">{% literal texts, 'home-pisazos-apartamento', L %} {% literal texts, 'home-pisazos-privado', L %}</option>
        <option value="Residencia">{% literal texts, 'home-pisazos-residencia', L %} {% literal texts, 'home-pisazos-universitaria', L %}</option>
      </select>

      <div class="calendar pure-u-1">
        <div class="pure-u-1" onclick="open_calendar('dates');">
          <label class="label" for="from">{% literal texts, 'home-bienvenido-cuando', L %}:</label>
          <div class="date">
            {% if L == 'es' %}
            <input class="input" type="text" id="dates" name="dates" onchange="localStorage.setItem('dates', this.value);" required disabled>
            {% else %}
            <input class="input" type="text" id="dates" name="dates" onchange="localStorage.setItem('dates', this.value);" required disabled>
            {% endif %}
            <em class="icon-calendar"></em>
          </div>
        </div>
      </div>
    </div>

    <div class="button-search">
      <a href="{{langs[L].folder}}/{{langs[L].pages['book'].url}}.html">
      <button class="btn-primary search desktop"><em class="icon-search"></em>{% literal texts, 'button-buscar', L %}</button>
      <button class="btn-secondary search mobile"><em class="icon-search"></em>{% literal texts, 'button-buscar', L %}</button>
      </a>
    </div>

  </div>

  <div id="video" class="video featured-bg-image">
    <div class="text-container mobile pure-u-1-3">
      <h1 class="pure-u-1">{% literal texts, 'home-bienvenido', L %}</h1>
    </div>
    <div class="video-home">
      <!-- Image-->
      {% image
          constants.SERVER + "/wopi/files/Marketing/Media/" + images['home'].id +"/Image/contents?access_token=" + token,
          "home", "home", "",
          [1280], ""
      %}
      <!-- Video -->
      <!--
      <video playsinline="true" width="100%" style="object-fit: cover;" autoplay="true" muted="true" loop="true" preload="auto" controls="1">
        Sorry, your browser doesn't support embedded videos.
        <source type="video/mp4" src="...">
      </video>
      -->
    </div>
  </div>

</section>

<!-- Calendar-->
{% include 'shared/sections/common/calendar.html.njk' %}

{% block footer %}
{% set script %}
document.getElementById('type').value  = localStorage.getItem('type');
document.getElementById('city').value  = localStorage.getItem('city');
document.getElementById('dates').value = localStorage.getItem('dates');
document.getElementById('in').value    = localStorage.getItem('checkin');
document.getElementById('out').value   = localStorage.getItem('checkout');
{% endset %}<script>{{ script | jsmin | safe }}</script>
{% endblock %}