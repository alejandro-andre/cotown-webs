<!DOCTYPE html>
<html lang="es">
  <head>

    <!-- Basic Page Needs
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8">
    <title>Cotown</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Mobile Specific Metas
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
 
    <!-- FONT
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

    <!-- CSS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="./assets/css/normalize.css">
    <link rel="stylesheet" href="./assets/css/styles.css">
    <link rel="stylesheet" href="./assets/css/buttons.css">
    <link rel="stylesheet" href="./assets/css/variables.css">
    <link rel="stylesheet" href="./assets/css/global.css">
	  <link rel="stylesheet" href="./assets/css/date-range-picker.css">

    <!-- ICONS -->
    <link rel="stylesheet" href="./assets/icons/style.css">
  
    <!-- IMAGES -->

    <!-- Favicon
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/png" href="./favicon.png">
    
</head>

<section class="dates-selector">

	<div class="mobile">
		<div class="close">
			<em class="icon-close"></em>
		</div>
		<div class="clean-dates">
			<a>Borrar fechas</a>
		</div>
	</div>

	<div class="selector-header">

		<div class="left">
      <h2>Seleccionar fechas</h2>
      <p>Estancia mínima: 1 mes</p>
    </div>        

		<div class="right">     
      <div class="calendar">
				<div class="reservas_form_div">           
			  	<form id="reservas_form" name="form_multi" method="GET">
						<button class="date-button">
							<label class="labels">Entrada</label>
							<input type="text" id="in"  class="inputs" name="in" placeholder="02/06/2023"/>
						</button>   
						<button class="date-button">
							<label class="labels">Salida</label>
							<input type="text" id="out" class="inputs" name="out" placeholder="02/09/2023"/>
						</button>
					</form>
				</div>
			</div>
    </div>

	</div>

	<div class="selector-main">

		<div class="left">
			<table id="daysleft" summary="a calendar">

        <caption>
					<div class="calendar-header">
						<a href="#" class="icon-left" rel="prev" onclick="back()">
							<em class="icon-corchete-left"></em>
						</a>
						<p id="monthleft">Abril 2023</p>
					</div>
				</caption>
	
				<thead>
					<tr>
						<th scope="col">L</th>
						<th scope="col">M</th>
						<th scope="col">X</th>
						<th scope="col">J</th>
						<th scope="col">V</th>
						<th scope="col">S</th>
						<th scope="col">D</th>
					</tr>
				</thead>
	
				<tbody>
				</tbody>
	
			</table>

      <div class="no-dates">
				<p>¿No encuentras lo que buscas?</p>
				<a>Avísame cuando tengas disponibilidad</a>
			</div>

		</div>
       
		<div class="right">
			<table id="daysright" summary="a calendar">

        <caption>
					<div class="calendar-header">						
						<p id="monthright">Mayo 2023</p>
						<a href="#" class="icon-right" rel="next" onclick="forward()">
							<em class="icon-corchete-right"></em>
						</a>
					</div>
				</caption>
	
				<thead>
					<tr>
						<th scope="col">L</th>
						<th scope="col">M</th>
						<th scope="col">X</th>
						<th scope="col">J</th>
						<th scope="col">V</th>
						<th scope="col">S</th>
						<th scope="col">D</th>
					</tr>
				</thead>
	
				<tbody>
				</tbody>
	
			</table>

        <div class="buttons">
				<a>Borrar fechas</a>
				<button class="btn-secondary">Cerrar</button>
			</div>

		</div>

    </div>

</section>

<script>
// Nombre del mes, en el idioma deseado
function month(mes, idioma) {
  var d = new Date(1965, mes);
  var text = d.toLocaleString(idioma, { month: 'long' });
  return text.charAt(0).toUpperCase() + text.slice(1);
}

// Pinta los dias de un mes
function pm(cal, yy, mes) {

  // Tabla
  var c = document.querySelector('#days' + cal + ' tbody');
  c.innerHTML = '';
  
  // Nombre del mes
  var name = document.querySelector('#month' + cal);
  name.textContent = month(mes, 'es-ES') + ' ' + yy;

  // Rango de días
  var ud = new Date(yy, mes + 1, 0).getDate(); // Obtiene el último día del mes
  var pd = new Date(yy, mes, 1).getDay();      // Obtiene el primer día del mes   
  pd = (pd === 0 ? 7 : pd) - 1;             // Ajusta el primer día de la semana a Lunes

  // Crea la cuadrícula del calendario
  var d = 1;
  for (var y = 0; y < 6; y++) {
    var rowHTML = document.createElement('tr');
    for (var x = 0; x < 7; x++) {
      var colHTML = document.createElement('td');
      if (y === 0 && x < pd || d > ud) {
        colHTML.textContent = '';
      } else {
        var yy = document.createElement('a');
        yy.href = '#';
        yy.textContent = d;
        colHTML.appendChild(yy);
        d++;
      }
      rowHTML.appendChild(colHTML);
    }
    c.appendChild(rowHTML);
  }
}

// Pinta ambos meses
function cal(fecha) {
  a = Math.floor(fecha / 12);
  m = fecha % 12
  pm('left', a, m)

  a = Math.floor((fecha + 1) / 12);
  m = (fecha + 1) % 12
  pm('right', a, m)
}

// Mes anterior
function back() {
  fecha -= 1;
  cal(fecha)
}

// Mes posterior
function forward() {
  fecha += 1;
  cal(fecha)
}

fecha = 2023*12+3;
cal(fecha);

</script>